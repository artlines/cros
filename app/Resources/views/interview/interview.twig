{% extends theme_template %}

{% block body %}
    <style>
        .form-control{
            color: #000000;
        }
        #form > div:nth-child(1) {
            display: none;
        }
        .ui-autocomplete{
            margin-left: 0;
            padding-left: 0;
        }
        .ui-menu-item {
            list-style-type: none;
            cursor: pointer;
        }
        .ui-menu{
            background-color: #FFF;
            border-color: #6ca0dc;
            border-width: 2px;
            border-style: dotted;
            padding:15px;
            width: 400px !important;
        }
    </style>
    Название вашей компании
    <input type="text" value="" id="input_search" class="form-control">
    {{ form_start(form, {'method': 'POST'}) }}
    {{ form_widget(form) }}
    {{ form_end(form) }}

    {% block javascripts %}
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script>
        var options = $('#form_organization option');
        var array_option = new Array();

        for(var i=1; i<options.length; i++)  {
            array_option.push(options[i].text);
        }

        $("#input_search").autocomplete({
            source: array_option,
            minLength: 2 // Количество символов, от скольки начинать поиск
        });

        $.expr[":"].exact = $.expr.createPseudo(function(arg) {
            return function(element) {
                return $(element).text() === arg.trim();
            };
        });

        $(document).on("click", ".ui-widget-content li div",function() {
            var target_option = $(this).text();
            $("#form_organization option:exact("+target_option+")").attr("selected", "selected");
        });
    </script>
    {% endblock %}
{% endblock %}